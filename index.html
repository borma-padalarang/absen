<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Absensi MD</title>
</head>
<body>
<h2>Absensi MD</h2>
<input type="text" id="nama" placeholder="Nama MD">
<input type="text" id="branch" placeholder="Branch">
<button onclick="absen()">Absen</button>
<div id="message"></div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbyacNb-8U5ixI4_ypZeHU6OyElvnhGK6X05bSE4vxVj5_um76zEDb9Gq5dXH6jZIeZttw/exec";

async function absen() {
  const nama = document.getElementById("nama").value.trim();
  const branch = document.getElementById("branch").value.trim();
  const msg = document.getElementById("message");

  if(!nama || !branch) {
    msg.innerText = "Nama & Branch harus diisi!";
    return;
  }

  msg.innerText = "Mengirim data...";

  try {
    const res = await fetch(scriptURL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ nama, branch })
    });
    const data = await res.json();

    if(data.status === "success") {
      msg.innerText = data.message;
      // Tampilkan halaman jobdesk / dokumentasi
      document.body.innerHTML = `<h2>Jobdesk MD</h2><p>Menu dokumentasi di sini...</p>`;
    } else {
      msg.innerText = data.message;
    }
  } catch(err) {
    msg.innerText = "Gagal mengirim data: " + err.message;
  }
}
</script>
</body>
</html>
